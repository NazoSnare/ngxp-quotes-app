<GridLayout class="quotes-list-container">
  <ListView
      [items]="vm.quotes$ | async"
      (loadMoreItems)="vm.onLoadMoreItemsRequested($event)"
      (itemLoading)="onItemLoading($event)"
      separatorColor="transparent"
      >
    <template
        let-item="item"
        let-i="index">
      <StackLayout class="quote-card-container" #quoteCardContainer>
        <CardView
            margin="10"
            elevation="10"
            shadowOpacity="0.2">
          <StackLayout class="quote-card">
              <Label
                class="quote-body"
                [text]="item.body"
                textWrap="true"></Label>
              <Label
                  class="quote-author text-light"
                  *ngIf="quotesBy !== 'author'"
                  [text]="'- '+item.authorName">
              </Label>
              <StackLayout class="hr-light"></StackLayout>
              <StackLayout
                  class="actions-container"
                  orientation="horizontal">
                <Button
                    class="mdi borderless-btn"
                    [text]="(item.isFavourite ? 'mdi-favorite' : 'mdi-favorite-border') | fonticon"
                    (tap)="toggleFav(quoteCardContainer, item, quotesBy)">
                </Button>
                <Button
                    class="mdi borderless-btn"
                    [text]="'mdi-share' | fonticon">
                </Button>
              </StackLayout>
          </StackLayout>
        </CardView>
        <ActivityIndicator
          #activityIndicator
          class="activity-indicator"
          *ngIf="i === vm.lstQuotes.length -1 && i !== vm.pagination.count -1 && quotesBy === 'all'"
          [busy]="i === vm.lstQuotes.length -1">
        </ActivityIndicator>
      </StackLayout>
    </template>
  </ListView>
  <ActivityIndicator
      class="activity-indicator"
      [visibility]="!vm.lstQuotes.length ? 'visible' : 'collapsed'"
      [busy]="!vm.lstQuotes.length && quotesBy !== 'favourites'">
    </ActivityIndicator>
</GridLayout>
